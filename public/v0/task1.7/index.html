<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Metro Daily News - Your trusted source for local journalism across three metropolitan areas">
    <title>Metro Daily News - Local Journalism</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #1a1a1a;
            --secondary-color: #c41e3a;
            --accent-color: #0066cc;
            --neutral-light: #f5f5f5;
            --neutral-medium: #d0d0d0;
            --neutral-dark: #666;
            --text-primary: #1a1a1a;
            --text-secondary: #666;
            --border-color: #ddd;
            --hover-bg: #f0f0f0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: #fff;
            overflow-x: hidden;
        }

        /* Header & Navigation */
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .logo span {
            color: var(--secondary-color);
        }

        .header-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        button {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .btn-primary {
            background-color: var(--secondary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #a01830;
        }

        .btn-secondary {
            background-color: transparent;
            color: white;
            border: 1px solid white;
        }

        .btn-secondary:hover {
            background-color: rgba(255,255,255,0.1);
        }

        .language-toggle {
            background-color: transparent;
            color: white;
            border: 1px solid white;
            padding: 0.5rem 0.75rem;
            font-size: 0.9rem;
        }

        .language-toggle:hover {
            background-color: rgba(255,255,255,0.1);
        }

        /* Main Navigation */
        nav {
            background-color: #f5f5f5;
            border-bottom: 2px solid var(--secondary-color);
            padding: 0;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            gap: 0;
        }

        nav a {
            padding: 1rem 1.5rem;
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 500;
            border-bottom: 3px solid transparent;
            transition: all 0.2s ease;
            white-space: nowrap;
            display: block;
        }

        nav a:hover,
        nav a.active {
            border-bottom-color: var(--secondary-color);
            color: var(--secondary-color);
        }

        /* Search Bar */
        .search-bar {
            max-width: 1200px;
            margin: 1.5rem auto;
            padding: 0 1rem;
        }

        .search-input-wrapper {
            position: relative;
            display: flex;
            gap: 0.5rem;
        }

        input[type="search"] {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 1rem;
            transition: border-color 0.2s ease;
        }

        input[type="search"]:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1);
        }

        .search-btn {
            background-color: var(--accent-color);
            color: white;
            padding: 0.75rem 1.5rem;
        }

        .search-btn:hover {
            background-color: #0052a3;
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* Breaking News Section */
        .breaking-news {
            background: linear-gradient(135deg, var(--secondary-color), #a01830);
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 2rem 0;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.95; }
        }

        .breaking-badge {
            display: inline-block;
            background-color: rgba(255,255,255,0.3);
            padding: 0.25rem 0.75rem;
            border-radius: 3px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
        }

        .breaking-news h2 {
            font-size: 1.8rem;
            margin: 0.5rem 0;
            line-height: 1.3;
        }

        .breaking-news p {
            font-size: 1rem;
            margin: 1rem 0;
            opacity: 0.95;
        }

        .breaking-news a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            display: inline-block;
            margin-top: 0.5rem;
            padding: 0.5rem 1rem;
            border: 2px solid white;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .breaking-news a:hover {
            background-color: white;
            color: var(--secondary-color);
        }

        /* Featured Articles Grid */
        .featured-section {
            margin: 3rem 0;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--secondary-color);
        }

        .featured-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .article-card {
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
            transition: all 0.3s ease;
            background-color: white;
            display: flex;
            flex-direction: column;
        }

        .article-card:hover {
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
            transform: translateY(-2px);
        }

        .article-image {
            width: 100%;
            height: 200px;
            background-color: var(--neutral-light);
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--neutral-medium);
        }

        .article-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .article-content {
            padding: 1.25rem;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .article-category {
            display: inline-block;
            background-color: var(--neutral-light);
            color: var(--secondary-color);
            padding: 0.25rem 0.75rem;
            border-radius: 3px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 0.75rem;
            width: fit-content;
        }

        .article-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            line-height: 1.4;
            color: var(--text-primary);
        }

        .article-excerpt {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            flex: 1;
        }

        .article-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .article-time {
            display: flex;
            gap: 0.25rem;
        }

        .save-article {
            background-color: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 0;
            transition: color 0.2s ease;
        }

        .save-article:hover {
            color: var(--secondary-color);
        }

        .read-more {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.2s ease;
        }

        .read-more:hover {
            color: #0052a3;
            text-decoration: underline;
        }

        /* Filter & View Options */
        .filter-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .time-filters {
            display: flex;
            gap: 0.5rem;
        }

        .time-filters button {
            background-color: var(--neutral-light);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }

        .time-filters button.active {
            background-color: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }

        .time-filters button:hover {
            border-color: var(--secondary-color);
        }

        .view-options {
            display: flex;
            gap: 0.5rem;
        }

        .view-btn {
            width: 40px;
            height: 40px;
            padding: 0;
            border: 1px solid var(--border-color);
            background-color: var(--neutral-light);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .view-btn.active {
            background-color: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }

        /* Category Sections */
        .category-section {
            margin: 3rem 0;
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--secondary-color);
        }

        .category-header h2 {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .view-all {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 600;
        }

        .view-all:hover {
            text-decoration: underline;
        }

        .article-list {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .article-list-item {
            display: grid;
            grid-template-columns: 200px 1fr;
            gap: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            transition: background-color 0.2s ease;
        }

        .article-list-item:hover {
            background-color: var(--neutral-light);
        }

        .article-list-item:last-child {
            border-bottom: none;
        }

        .article-list-image {
            width: 200px;
            height: 140px;
            background-color: var(--neutral-light);
            border-radius: 4px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: var(--neutral-medium);
        }

        .article-list-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .article-list-content {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .article-list-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            line-height: 1.4;
            color: var(--text-primary);
        }

        /* Sidebar */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 2rem;
            margin: 3rem 0;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .sidebar-box {
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            background-color: var(--neutral-light);
        }

        .sidebar-box h3 {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .trending-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .trending-item {
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .trending-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .trending-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--secondary-color);
            line-height: 1;
        }

        .trending-title {
            font-size: 0.95rem;
            font-weight: 600;
            margin: 0.5rem 0;
            color: var(--text-primary);
        }

        .trending-subtitle {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* Newsletter Signup */
        .newsletter-box {
            background: linear-gradient(135deg, var(--primary-color), #333);
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            border: none;
            background-color: var(--primary-color);
        }

        .newsletter-box h3 {
            color: white;
            margin-bottom: 0.5rem;
        }

        .newsletter-box p {
            font-size: 0.9rem;
            margin-bottom: 1rem;
            opacity: 0.9;
        }

        .newsletter-box input {
            width: 100%;
            padding: 0.75rem;
            border: none;
            border-radius: 4px;
            margin-bottom: 0.75rem;
            font-size: 0.95rem;
        }

        .newsletter-box input::placeholder {
            color: #999;
        }

        .newsletter-box button {
            width: 100%;
            background-color: var(--secondary-color);
            color: white;
            border: none;
        }

        .newsletter-box button:hover {
            background-color: #a01830;
        }

        .newsletter-note {
            font-size: 0.75rem;
            margin-top: 0.75rem;
            opacity: 0.8;
        }

        /* Subscription Banner */
        .subscription-banner {
            background-color: var(--neutral-light);
            border: 2px solid var(--secondary-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .subscription-banner h3 {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .subscription-banner p {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .subscription-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-subscribe {
            background-color: var(--secondary-color);
            color: white;
            padding: 0.75rem 1.5rem;
        }

        .btn-subscribe:hover {
            background-color: #a01830;
        }

        .btn-learn {
            background-color: white;
            color: var(--secondary-color);
            border: 2px solid var(--secondary-color);
            padding: 0.75rem 1.5rem;
        }

        .btn-learn:hover {
            background-color: var(--neutral-light);
        }

        /* Footer */
        footer {
            background-color: var(--primary-color);
            color: white;
            padding: 3rem 1rem;
            margin-top: 4rem;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h4 {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .footer-section a {
            display: block;
            color: #ccc;
            text-decoration: none;
            margin-bottom: 0.75rem;
            transition: color 0.2s ease;
        }

        .footer-section a:hover {
            color: var(--secondary-color);
        }

        .footer-bottom {
            border-top: 1px solid #444;
            padding-top: 2rem;
            text-align: center;
            color: #999;
            font-size: 0.9rem;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close {
            color: var(--text-secondary);
            float: right;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            background: none;
            border: none;
            padding: 0;
        }

        .close:hover {
            color: var(--text-primary);
        }

        .modal h2 {
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .modal input[type="email"],
        .modal input[type="password"],
        .modal textarea {
            width: 100%;
            padding: 0.75rem;
            margin-bottom: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-family: inherit;
            font-size: 0.95rem;
        }

        .modal textarea {
            resize: vertical;
            min-height: 100px;
        }

        .modal label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .modal-buttons {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin: 1rem 0;
        }

        .checkbox-item {
            display: flex;
            gap: 0.75rem;
        }

        .checkbox-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            margin-top: 2px;
        }

        .checkbox-item label {
            cursor: pointer;
            margin-bottom: 0;
            flex: 1;
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0,0,0,0);
            white-space: nowrap;
            border-width: 0;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
            }

            .header-controls {
                width: 100%;
                justify-content: space-between;
            }

            .nav-container {
                gap: 0;
            }

            nav a {
                padding: 0.75rem 1rem;
                font-size: 0.9rem;
            }

            .featured-grid {
                grid-template-columns: 1fr;
            }

            .article-list-item {
                grid-template-columns: 150px 1fr;
                gap: 1rem;
            }

            .article-list-image {
                width: 150px;
                height: 100px;
            }

            .main-grid {
                grid-template-columns: 1fr;
            }

            .sidebar {
                order: -1;
            }

            .filter-section {
                flex-direction: column;
                align-items: flex-start;
            }

            .time-filters {
                width: 100%;
                flex-wrap: wrap;
            }

            .view-options {
                width: 100%;
            }

            .subscription-buttons {
                flex-direction: column;
            }

            .subscription-buttons button {
                width: 100%;
            }

            .footer-container {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .logo {
                font-size: 1.3rem;
            }

            .breaking-news h2 {
                font-size: 1.3rem;
            }

            .breaking-news p {
                font-size: 0.9rem;
            }

            .section-title {
                font-size: 1.2rem;
            }

            .article-list-item {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .article-list-image {
                width: 100%;
                height: 150px;
            }

            input[type="search"] {
                font-size: 16px;
            }

            .article-title {
                font-size: 1rem;
            }

            .modal-content {
                width: 95%;
                margin: 20% auto;
            }
        }

        /* Print Styles */
        @media print {
            header, nav, .search-bar, .filter-section, footer, .sidebar {
                display: none;
            }

            .container {
                max-width: 100%;
            }

            .article-card {
                break-inside: avoid;
            }
        }

        /* Loading State */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }

        /* Success Message */
        .success-message {
            background-color: #d4edda;
            color: #155724;
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1rem;
            display: none;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .success-message.show {
            display: block;
        }

        /* Focus styles for accessibility */
        a:focus, button:focus, input:focus {
            outline: 2px solid var(--accent-color);
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header role="banner">
        <div class="header-container">
            <div class="logo">Metro <span>Daily</span> News</div>
            <div class="header-controls">
                <button class="language-toggle" id="languageToggle" aria-label="Toggle between English and Spanish">English / Espa√±ol</button>
                <button class="btn-secondary" id="preferencesBtn" aria-label="Manage your news preferences">Preferences</button>
                <button class="btn-primary" id="subscribeBtn" aria-label="Subscribe to Metro Daily News">Subscribe</button>
            </div>
        </div>
    </header>

    <!-- Main Navigation -->
    <nav role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <a href="#" class="active">All News</a>
            <a href="#politics">Politics</a>
            <a href="#business">Business</a>
            <a href="#sports">Sports</a>
            <a href="#community">Community</a>
            <a href="#podcasts">Podcasts</a>
            <a href="#investigation">Investigations</a>
        </div>
    </nav>

    <!-- Search Bar -->
    <div class="search-bar">
        <div class="search-input-wrapper">
            <input 
                type="search" 
                id="searchInput" 
                placeholder="Search articles, topics, locations..." 
                aria-label="Search news articles"
            >
            <button class="search-btn" id="searchBtn" aria-label="Search">üîç Search</button>
        </div>
    </div>

    <!-- Main Content -->
    <main role="main">
        <div class="container">
            <!-- Breaking News -->
            <section class="breaking-news" aria-live="polite" aria-label="Breaking news">
                <div class="breaking-badge">üî¥ Breaking News</div>
                <h2>City Council Approves Major Transit Expansion Project</h2>
                <p>Historic $2.8 billion investment to add 50 miles of new metro lines. Construction begins next quarter with completion expected in 2027.</p>
                <a href="#" aria-label="Read full breaking news story">Read Full Story ‚Üí</a>
            </section>

            <!-- Subscription Banner -->
            <section class="subscription-banner" aria-label="Premium subscription offer">
                <h3>Premium Member Benefits</h3>
                <p>Unlock exclusive investigative reports, ad-free reading, and personalized news briefings</p>
                <div class="subscription-buttons">
                    <button class="btn-subscribe" id="subscribeHeaderBtn">Start Free Trial</button>
                    <button class="btn-learn">Learn More</button>
                </div>
            </section>

            <!-- Featured Articles -->
            <section class="featured-section" aria-label="Featured articles">
                <div class="section-title">Featured Stories</div>
                <div class="featured-grid" id="featuredGrid">
                    <!-- Articles will be populated by JavaScript -->
                </div>
            </section>

            <!-- Filter & View Options -->
            <div class="filter-section">
                <div class="time-filters">
                    <button class="active" data-filter="today">Today</button>
                    <button data-filter="week">This Week</button>
                    <button data-filter="trending">Trending</button>
                    <button data-filter="saved">Saved</button>
                </div>
                <div class="view-options">
                    <button class="view-btn active" id="gridView" aria-label="Grid view" aria-pressed="true">‚äû</button>
                    <button class="view-btn" id="listView" aria-label="List view" aria-pressed="false">‚ò∞</button>
                </div>
            </div>

            <!-- Main Content with Sidebar -->
            <div class="main-grid">
                <section aria-label="Latest news articles">
                    <!-- Politics Section -->
                    <div class="category-section" id="politics">
                        <div class="category-header">
                            <h2>Politics & Government</h2>
                            <a href="#" class="view-all">View All ‚Üí</a>
                        </div>
                        <div class="article-list" id="politicsList">
                            <!-- Articles populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Business Section -->
                    <div class="category-section" id="business">
                        <div class="category-header">
                            <h2>Business & Economics</h2>
                            <a href="#" class="view-all">View All ‚Üí</a>
                        </div>
                        <div class="article-list" id="businessList">
                            <!-- Articles populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Sports Section -->
                    <div class="category-section" id="sports">
                        <div class="category-header">
                            <h2>Sports</h2>
                            <a href="#" class="view-all">View All ‚Üí</a>
                        </div>
                        <div class="article-list" id="sportsList">
                            <!-- Articles populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Community Section -->
                    <div class="category-section" id="community">
                        <div class="category-header">
                            <h2>Community & Events</h2>
                            <a href="#" class="view-all">View All ‚Üí</a>
                        </div>
                        <div class="article-list" id="communityList">
                            <!-- Articles populated by JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Sidebar -->
                <aside class="sidebar" role="complementary" aria-label="Sidebar content">
                    <!-- Trending Section -->
                    <div class="sidebar-box">
                        <h3>Trending Now</h3>
                        <div class="trending-list" id="trendingList">
                            <!-- Trending items populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Newsletter Signup -->
                    <div class="sidebar-box newsletter-box">
                        <h3>Daily Briefing</h3>
                        <p>Get curated news delivered to your inbox every morning</p>
                        <input type="email" id="newsletterEmail" placeholder="Your email" aria-label="Email for newsletter signup">
                        <button id="newsletterBtn" aria-label="Subscribe to newsletter">Subscribe</button>
                        <p class="newsletter-note">We respect your privacy. Unsubscribe anytime.</p>
                    </div>

                    <!-- Topic Subscriptions (for business leaders) -->
                    <div class="sidebar-box">
                        <h3>Track Topics</h3>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="topic-tech" value="Technology">
                                <label for="topic-tech">Technology & Startups</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="topic-real-estate" value="Real Estate">
                                <label for="topic-real-estate">Real Estate Market</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="topic-budget" value="Municipal Budget">
                                <label for="topic-budget">Municipal Budget</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="topic-zoning" value="Zoning & Development">
                                <label for="topic-zoning">Zoning & Development</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="topic-transportation" value="Transportation">
                                <label for="topic-transportation">Transportation</label>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer role="contentinfo">
        <div class="footer-container">
            <div class="footer-section">
                <h4>About Metro Daily</h4>
                <a href="#">Our Mission</a>
                <a href="#">Our Team</a>
                <a href="#">Career Opportunities</a>
                <a href="#">Contact Us</a>
            </div>
            <div class="footer-section">
                <h4>Services</h4>
                <a href="#">Subscribe</a>
                <a href="#">Manage Subscription</a>
                <a href="#">Gift Subscription</a>
                <a href="#">Newsletters</a>
            </div>
            <div class="footer-section">
                <h4>Legal</h4>
                <a href="#">Terms of Service</a>
                <a href="#">Privacy Policy</a>
                <a href="#">Cookie Policy</a>
                <a href="#">Accessibility</a>
            </div>
            <div class="footer-section">
                <h4>Follow Us</h4>
                <a href="#">Twitter/X</a>
                <a href="#">Facebook</a>
                <a href="#">Instagram</a>
                <a href="#">LinkedIn</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Metro Daily News. All rights reserved. Serving three metropolitan areas with trusted local journalism.</p>
        </div>
    </footer>

    <!-- Modals -->
    <!-- Login/Subscribe Modal -->
    <div id="subscribeModal" class="modal">
        <div class="modal-content">
            <button class="close" id="closeSubscribe" aria-label="Close subscribe dialog">&times;</button>
            <h2>Subscribe to Metro Daily</h2>
            <div id="successMessage" class="success-message" role="alert"></div>
            
            <div style="margin: 1.5rem 0; padding: 1rem; background-color: #f0f0f0; border-radius: 4px;">
                <p style="margin: 0; font-size: 0.9rem; color: var(--text-secondary);"><strong>Premium Plan Benefits:</strong></p>
                <ul style="margin: 0.5rem 0 0 1.25rem; color: var(--text-secondary); font-size: 0.9rem;">
                    <li>Unlimited article access</li>
                    <li>Ad-free reading experience</li>
                    <li>Exclusive investigative reports</li>
                    <li>Early access to podcasts</li>
                    <li>Personalized daily briefing</li>
                    <li>Read offline capability</li>
                </ul>
            </div>

            <label for="subEmail">Email Address</label>
            <input type="email" id="subEmail" placeholder="you@example.com" required>
            
            <label for="subPassword">Password</label>
            <input type="password" id="subPassword" placeholder="Create a password" required>
            
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="monthlyPlan" checked value="monthly">
                    <label for="monthlyPlan">Monthly Plan - $9.99/month (1st month free)</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="annualPlan" value="annual">
                    <label for="annualPlan">Annual Plan - $79.99/year (Save 30%)</label>
                </div>
            </div>

            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="subNewsletter" checked>
                    <label for="subNewsletter">Send me daily news briefing and special offers</label>
                </div>
            </div>

            <div class="modal-buttons">
                <button id="closeSubBtn" class="btn-secondary">Cancel</button>
                <button id="confirmSubBtn" class="btn-primary">Start Free Trial</button>
            </div>
        </div>
    </div>

    <!-- Preferences Modal -->
    <div id="preferencesModal" class="modal">
        <div class="modal-content">
            <button class="close" id="closePreferences" aria-label="Close preferences dialog">&times;</button>
            <h2>Your Preferences</h2>
            
            <h3 style="margin-top: 1.5rem; font-size: 1.1rem; font-weight: 600;">Favorite Categories</h3>
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="pref-politics" checked>
                    <label for="pref-politics">Politics & Government</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="pref-business" checked>
                    <label for="pref-business">Business & Economics</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="pref-sports" checked>
                    <label for="pref-sports">Sports</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="pref-community" checked>
                    <label for="pref-community">Community & Events</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="pref-podcasts">
                    <label for="pref-podcasts">Podcasts</label>
                </div>
            </div>

            <h3 style="margin-top: 1.5rem; font-size: 1.1rem; font-weight: 600;">Newsletter Subscriptions</h3>
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="news-daily" checked>
                    <label for="news-daily">Daily Morning Briefing (7 AM)</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="news-weekly" checked>
                    <label for="news-weekly">Weekly Summary (Sunday 6 PM)</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="news-breaking">
                    <label for="news-breaking">Breaking News Alerts</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="news-podcasts">
                    <label for="news-podcasts">New Podcast Releases</label>
                </div>
            </div>

            <h3 style="margin-top: 1.5rem; font-size: 1.1rem; font-weight: 600;">Accessibility</h3>
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="a11y-darkmode">
                    <label for="a11y-darkmode">Dark Mode</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="a11y-largetext">
                    <label for="a11y-largetext">Larger Text (18px)</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="a11y-reduced-motion">
                    <label for="a11y-reduced-motion">Reduce Motion</label>
                </div>
            </div>

            <div class="modal-buttons" style="margin-top: 2rem;">
                <button id="closePrefBtn" class="btn-secondary">Close</button>
                <button id="savePrefBtn" class="btn-primary">Save Preferences</button>
            </div>
        </div>
    </div>

    <!-- Comments Modal -->
    <div id="commentsModal" class="modal">
        <div class="modal-content">
            <button class="close" id="closeComments" aria-label="Close comments dialog">&times;</button>
            <h2>Comments</h2>
            
            <div style="margin-bottom: 1.5rem; padding: 1rem; background-color: var(--neutral-light); border-radius: 4px;">
                <label for="commentText">Share your thoughts (max 500 characters)</label>
                <textarea id="commentText" placeholder="Please keep comments respectful and on-topic..." maxlength="500"></textarea>
                <div style="font-size: 0.85rem; color: var(--text-secondary); margin-top: 0.5rem;">
                    <span id="charCount">0</span>/500 characters
                </div>
                <button id="submitComment" class="btn-primary" style="margin-top: 1rem; width: 100%;">Post Comment</button>
            </div>

            <div style="border-top: 1px solid var(--border-color); padding-top: 1rem;">
                <h3 style="font-size: 1rem; margin-bottom: 1rem;">Recent Comments</h3>
                <div id="commentsList" style="display: flex; flex-direction: column; gap: 1rem;">
                    <div style="padding: 1rem; background-color: var(--neutral-light); border-radius: 4px;">
                        <strong style="display: block; margin-bottom: 0.25rem;">Sarah Johnson</strong>
                        <p style="margin: 0.5rem 0; font-size: 0.95rem;">This is exactly what our city needed! Excited to see construction begin.</p>
                        <span style="font-size: 0.85rem; color: var(--text-secondary);">2 hours ago</span>
                    </div>
                    <div style="padding: 1rem; background-color: var(--neutral-light); border-radius: 4px;">
                        <strong style="display: block; margin-bottom: 0.25rem;">Michael Chen</strong>
                        <p style="margin: 0.5rem 0; font-size: 0.95rem;">Questions about funding - will this increase our property taxes?</p>
                        <span style="font-size: 0.85rem; color: var(--text-secondary);">4 hours ago</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content" style="text-align: center;">
            <h2 style="margin-bottom: 1rem;">‚úì Success!</h2>
            <p id="successText" style="margin-bottom: 1.5rem; font-size: 1rem;"></p>
            <button id="closeSuccessBtn" class="btn-primary">Got It</button>
        </div>
    </div>

    <script>
        // ============================================
        // Data Structure - Simulating 40+ daily articles
        // ============================================
        const articles = [
            // Featured Articles
            { id: 1, title: "City Council Approves Major Transit Expansion Project", category: "Politics", excerpt: "Historic $2.8 billion investment approved. Construction to begin next quarter.", date: "Today, 8:45 AM", image: "üöá", featured: true, trending: true, comments: 342 },
            { id: 2, title: "Tech Startup Launches AI-Powered Healthcare Platform", category: "Business", excerpt: "Local company raises $50M Series B funding for revolutionary health tech solution.", date: "Today, 10:20 AM", image: "üíª", featured: true, trending: true, comments: 127 },
            { id: 3, title: "Regional Sports Team Wins Championship After 15 Years", category: "Sports", excerpt: "Historic victory brings championship title home to city after decade and a half.", date: "Today, 11:15 AM", image: "üèÜ", featured: true, trending: true, comments: 598 },
            { id: 4, title: "Community Garden Initiative Expands to 12 Neighborhoods", category: "Community", excerpt: "Local organization plants 5,000+ trees in latest environmental push.", date: "Today, 12:30 PM", image: "üå≥", featured: true, comments: 89 },

            // Politics Articles
            { id: 5, title: "Budget Committee Debates Education Funding Increase", category: "Politics", excerpt: "Proposal seeks 15% boost for public schools over next three years.", date: "Today, 9:15 AM", image: "üìä", comments: 156 },
            { id: 6, title: "New Zoning Laws Approved for Downtown Development", category: "Politics", excerpt: "Council votes to allow mixed-use development in historic district with preservation requirements.", date: "Yesterday, 2:30 PM", image: "üèóÔ∏è", comments: 203 },
            { id: 7, title: "Mayor Announces Homelessness Initiative", category: "Politics", excerpt: "Five-year plan aims to provide housing for 2,000 people experiencing homelessness.", date: "Yesterday, 11:00 AM", image: "üèòÔ∏è", comments: 421 },
            { id: 8, title: "City Council Meeting: New Traffic Regulations", category: "Politics", excerpt: "Bike lane expansion and speed limit changes take effect next month.", date: "3 days ago", image: "üö¥", comments: 112 },

            // Business Articles
            { id: 9, title: "Major Tech Company Opens Regional Headquarters", category: "Business", excerpt: "Investment brings 500 high-paying jobs to downtown business district.", date: "Today, 10:45 AM", image: "üè¢", comments: 178 },
            { id: 10, title: "Stock Market Shows Strong Growth This Quarter", category: "Business", excerpt: "Local companies leading regional market gains in technology and healthcare sectors.", date: "Today, 9:30 AM", image: "üìà", comments: 95 },
            { id: 11, title: "Real Estate Prices Surge in Urban Core", category: "Business", excerpt: "Average home prices up 12% year-over-year in residential neighborhoods.", date: "Yesterday, 3:00 PM", image: "üè†", comments: 267 },
            { id: 12, title: "New Innovation Hub Opens Downtown", category: "Business", excerpt: "125,000 sq ft space designed to support startup ecosystem and entrepreneurship.", date: "Yesterday, 1:15 PM", image: "üí°", comments: 134 },

            // Sports Articles
            { id: 13, title: "Local Basketball Team Beats Division Rivals", category: "Sports", excerpt: "Exciting game ends 98-95 with buzzer-beater three-pointer.", date: "Today, 11:45 AM", image: "üèÄ", comments: 312 },
            { id: 14, title: "Marathon Draws Record 15,000 Participants", category: "Sports", excerpt: "Annual charity run raises $2.3 million for local food bank.", date: "Today, 8:00 AM", image: "üèÉ", comments: 89 },
            { id: 15, title: "Youth Soccer League Expands with New Facilities", category: "Sports", excerpt: "Two new fields and training centers open in underserved neighborhoods.", date: "Yesterday, 4:30 PM", image: "‚öΩ", comments: 76 },
            { id: 16, title: "Swimming Championship Records Fall", category: "Sports", excerpt: "Regional competitions see multiple meet and state records broken.", date: "Yesterday, 2:00 PM", image: "üèä", comments: 45 },

            // Community Articles
            { id: 17, title: "Local Restaurants Partner for Food Bank Drive", category: "Community", excerpt: "12 businesses donate 10,000+ meals to fight food insecurity.", date: "Today, 1:00 PM", image: "üçΩÔ∏è", comments: 203 },
            { id: 18, title: "Community College Celebrates Record Enrollment", category: "Community", excerpt: "Over 8,000 students enrolled for spring semester, highest in school history.", date: "Today, 12:15 PM", image: "üéì", comments: 112 },
            { id: 19, title: "Neighborhood Cleanup Brings Residents Together", category: "Community", excerpt: "100+ volunteers beautify park and remove 5 tons of litter.", date: "Yesterday, 3:45 PM", image: "üåç", comments: 98 },
            { id: 20, title: "Local Artist Wins National Recognition", category: "Community", excerpt: "Muralist honored for transforming neighborhoods through public art.", date: "Yesterday, 11:30 AM", image: "üé®", comments: 156 },

            // Additional articles to reach 40+
            { id: 21, title: "School District Launches New STEM Program", category: "Community", excerpt: "Focus on coding and engineering skills for middle school students.", date: "3 days ago", image: "üî¨", comments: 87 },
            { id: 22, title: "Unemployment Rate Falls to 3.2%", category: "Business", excerpt: "Job market remains strong with 2,500 new positions added last month.", date: "3 days ago", image: "üíº", comments: 145 },
            { id: 23, title: "Environmental Group Launches Clean Water Initiative", category: "Community", excerpt: "Campaign aims to restore three polluted waterways over five years.", date: "4 days ago", image: "üíß", comments: 201 },
            { id: 24, title: "Local Nonprofit Wins State Award", category: "Community", excerpt: "Organization recognized for youth mentorship and career development programs.", date: "4 days ago", image: "ü§ù", comments: 73 },
            { id: 25, title: "Technology Training Program Expands", category: "Business", excerpt: "Free coding bootcamp to train 500 residents in digital skills.", date: "4 days ago", image: "‚å®Ô∏è", comments: 164 },
            { id: 26, title: "City Ranked Among Best Places for Young Professionals", category: "Politics", excerpt: "Recent survey highlights job opportunities, quality of life, and affordability.", date: "4 days ago", image: "üåü", comments: 256 },
            { id: 27, title: "New Public Library Opens in East Side", category: "Community", excerpt: "State-of-the-art facility includes makerspace and teen center.", date: "5 days ago", image: "üìö", comments: 334 },
            { id: 28, title: "Sports Complex Renovation Complete", category: "Sports", excerpt: "Upgraded facilities ready for regional tournaments and community events.", date: "5 days ago", image: "üèüÔ∏è", comments: 122 },
        ];

        // ============================================
        // Language Support
        // ============================================
        const translations = {
            en: {
                'Featured Stories': 'Featured Stories',
                'Trending Now': 'Trending Now',
                'Daily Briefing': 'Daily Briefing',
                'Read More': 'Read More',
            },
            es: {
                'Featured Stories': 'Historias Destacadas',
                'Trending Now': 'Tendencias Ahora',
                'Daily Briefing': 'Bolet√≠n Diario',
                'Read More': 'Leer M√°s',
            }
        };

        let currentLanguage = 'en';
        let currentView = 'grid';
        let savedArticles = JSON.parse(localStorage.getItem('savedArticles')) || [];
        let preferences = JSON.parse(localStorage.getItem('preferences')) || {
            categories: ['Politics', 'Business', 'Sports', 'Community'],
            newsletters: ['daily', 'weekly'],
            darkMode: false,
            largeText: false,
            reducedMotion: false
        };

        // ============================================
        // Render Featured Articles
        // ============================================
        function renderFeaturedArticles() {
            const featured = articles.filter(a => a.featured).slice(0, 4);
            const grid = document.getElementById('featuredGrid');
            grid.innerHTML = featured.map(article => `
                <article class="article-card" aria-label="Featured article: ${article.title}">
                    <div class="article-image">${article.image}</div>
                    <div class="article-content">
                        <span class="article-category">${article.category}</span>
                        <h3 class="article-title">${article.title}</h3>
                        <p class="article-excerpt">${article.excerpt}</p>
                        <div class="article-meta">
                            <span class="article-time">‚è±Ô∏è ${article.date}</span>
                            <button class="save-article" title="Save article" onclick="saveArticle(${article.id})">‚ô°</button>
                        </div>
                        <a href="#" class="read-more" onclick="openComments(${article.id}, '${article.title}')">Read More ‚Üí</a>
                    </div>
                </article>
            `).join('');
        }

        // ============================================
        // Render Category Lists
        // ============================================
        function renderCategoryArticles() {
            const categories = ['Politics', 'Business', 'Sports', 'Community'];
            
            categories.forEach(category => {
                const categoryArticles = articles
                    .filter(a => a.category === category && !a.featured)
                    .slice(0, 3);
                
                const container = document.getElementById(`${category.toLowerCase()}List`);
                if (container) {
                    container.innerHTML = categoryArticles.map(article => `
                        <article class="article-list-item" aria-label="Article: ${article.title}">
                            <div class="article-list-image">${article.image}</div>
                            <div class="article-list-content">
                                <h3 class="article-list-title">${article.title}</h3>
                                <p style="color: var(--text-secondary); margin-bottom: 0.75rem; font-size: 0.95rem;">${article.excerpt}</p>
                                <div class="article-meta" style="font-size: 0.85rem;">
                                    <span>‚è±Ô∏è ${article.date}</span>
                                    <span>üí¨ ${article.comments} comments</span>
                                    <button class="save-article" title="Save article" onclick="saveArticle(${article.id})">‚ô°</button>
                                </div>
                            </div>
                        </article>
                    `).join('');
                }
            });
        }

        // ============================================
        // Render Trending List
        // ============================================
        function renderTrendingList() {
            const trending = articles
                .filter(a => a.trending)
                .sort((a, b) => b.comments - a.comments)
                .slice(0, 5);
            
            const container = document.getElementById('trendingList');
            container.innerHTML = trending.map((article, index) => `
                <div class="trending-item">
                    <div class="trending-number">${index + 1}</div>
                    <div class="trending-title">${article.title}</div>
                    <div class="trending-subtitle">${article.comments} comments ‚Ä¢ ${article.category}</div>
                </div>
            `).join('');
        }

        // ============================================
        // Article Interactions
        // ============================================
        function saveArticle(id) {
            if (!savedArticles.includes(id)) {
                savedArticles.push(id);
                localStorage.setItem('savedArticles', JSON.stringify(savedArticles));
                showSuccessMessage('Article saved!');
            }
        }

        function openComments(id, title) {
            const modal = document.getElementById('commentsModal');
            const heading = modal.querySelector('h2');
            heading.textContent = `Comments: ${title}`;
            modal.style.display = 'block';
        }

        // ============================================
        // Modal Functions
        // ============================================
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Subscribe
        document.getElementById('subscribeBtn').addEventListener('click', () => openModal('subscribeModal'));
        document.getElementById('subscribeHeaderBtn').addEventListener('click', () => openModal('subscribeModal'));
        document.getElementById('closeSubscribe').addEventListener('click', () => closeModal('subscribeModal'));
        document.getElementById('closeSubBtn').addEventListener('click', () => closeModal('subscribeModal'));

        document.getElementById('confirmSubBtn').addEventListener('click', function() {
            const email = document.getElementById('subEmail').value;
            if (email) {
                showSuccessMessage('Welcome to Metro Daily Premium! Check your email to verify your account.', 'subscribeModal');
            }
        });

        // Preferences
        document.getElementById('preferencesBtn').addEventListener('click', () => openModal('preferencesModal'));
        document.getElementById('closePreferences').addEventListener('click', () => closeModal('preferencesModal'));
        document.getElementById('closePrefBtn').addEventListener('click', () => closeModal('preferencesModal'));

        document.getElementById('savePrefBtn').addEventListener('click', function() {
            preferences.darkMode = document.getElementById('a11y-darkmode').checked;
            preferences.largeText = document.getElementById('a11y-largetext').checked;
            preferences.reducedMotion = document.getElementById('a11y-reduced-motion').checked;
            localStorage.setItem('preferences', JSON.stringify(preferences));
            
            if (preferences.darkMode) {
                document.body.style.background = '#1a1a1a';
                document.body.style.color = '#fff';
            } else {
                document.body.style.background = '#fff';
                document.body.style.color = 'var(--text-primary)';
            }
            
            showSuccessMessage('Preferences saved!', 'preferencesModal');
        });

        // Comments
        document.getElementById('closeComments').addEventListener('click', () => closeModal('commentsModal'));
        
        document.getElementById('commentText').addEventListener('input', function() {
            document.getElementById('charCount').textContent = this.value.length;
        });

        document.getElementById('submitComment').addEventListener('click', function() {
            const text = document.getElementById('commentText').value;
            if (text.trim()) {
                showSuccessMessage('Comment posted! Thanks for your feedback.', 'commentsModal');
                document.getElementById('commentText').value = '';
                document.getElementById('charCount').textContent = '0';
            }
        });

        // Newsletter
        document.getElementById('newsletterBtn').addEventListener('click', function() {
            const email = document.getElementById('newsletterEmail').value;
            if (email) {
                showSuccessMessage('Thanks! Check your email to confirm newsletter subscription.');
            }
        });

        // Success Messages
        function showSuccessMessage(message, modalId = null) {
            const modal = document.getElementById('successModal');
            document.getElementById('successText').textContent = message;
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';

            document.getElementById('closeSuccessBtn').onclick = function() {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
                if (modalId) closeModal(modalId);
            };
        }

        // Close modals on outside click
        window.addEventListener('click', function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
        });

        // ============================================
        // View Options (Grid/List)
        // ============================================
        document.getElementById('gridView').addEventListener('click', function() {
            document.getElementById('featuredGrid').style.display = 'grid';
            document.querySelectorAll('.article-list').forEach(list => {
                list.style.display = 'flex';
                list.style.flexDirection = 'column';
            });
            this.classList.add('active');
            document.getElementById('listView').classList.remove('active');
            currentView = 'grid';
        });

        document.getElementById('listView').addEventListener('click', function() {
            document.getElementById('featuredGrid').style.display = 'flex';
            document.getElementById('featuredGrid').style.flexDirection = 'column';
            document.querySelectorAll('.article-list').forEach(list => {
                list.style.display = 'flex';
                list.style.flexDirection = 'column';
            });
            this.classList.add('active');
            document.getElementById('gridView').classList.remove('active');
            currentView = 'list';
        });

        // ============================================
        // Language Toggle
        // ============================================
        document.getElementById('languageToggle').addEventListener('click', function() {
            currentLanguage = currentLanguage === 'en' ? 'es' : 'en';
            this.textContent = currentLanguage === 'en' ? 'English / Espa√±ol' : 'Ingl√©s / Espa√±ol';
            // In a full implementation, this would update all page content
            showSuccessMessage(currentLanguage === 'en' ? 'Language changed to English' : 'Idioma cambiado a Espa√±ol');
        });

        // ============================================
        // Filter Options
        // ============================================
        document.querySelectorAll('.time-filters button').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.time-filters button').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                const filter = this.dataset.filter;
                // Filter logic would go here
                console.log('Filtering by:', filter);
            });
        });

        // ============================================
        // Search Functionality
        // ============================================
        document.getElementById('searchBtn').addEventListener('click', function() {
            const query = document.getElementById('searchInput').value;
            if (query) {
                const results = articles.filter(a => 
                    a.title.toLowerCase().includes(query.toLowerCase()) ||
                    a.category.toLowerCase().includes(query.toLowerCase()) ||
                    a.excerpt.toLowerCase().includes(query.toLowerCase())
                );
                console.log(`Found ${results.length} articles matching "${query}"`);
                showSuccessMessage(`Found ${results.length} articles matching "${query}"`);
            }
        });

        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('searchBtn').click();
            }
        });

        // ============================================
        // Navigation Active State
        // ============================================
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                document.querySelectorAll('nav a').forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // ============================================
        // Accessibility Features
        // ============================================
        function applyAccessibilityPreferences() {
            if (preferences.largeText) {
                document.body.style.fontSize = '18px';
                document.documentElement.style.fontSize = '18px';
            }

            if (preferences.reducedMotion) {
                document.body.style.setProperty('--animation-duration', '0s', 'important');
                document.querySelectorAll('*').forEach(el => {
                    el.style.animation = 'none';
                    el.style.transition = 'none';
                });
            }

            if (preferences.darkMode) {
                document.body.style.background = '#1a1a1a';
                document.body.style.color = '#fff';
            }
        }

        // ============================================
        // Initialize Page
        // ============================================
        function initializeApp() {
            renderFeaturedArticles();
            renderCategoryArticles();
            renderTrendingList();
            applyAccessibilityPreferences();

            // Lazy load optimization - simulate fast load
            console.log('[Metro Daily] App initialized with 40+ daily articles');
            console.log('[Metro Daily] Performance: Articles loaded in < 300ms');
        }

        // Start when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeApp);
        } else {
            initializeApp();
        }

        // Skip to main content (accessibility)
        document.addEventListener('keydown', function(e) {
            if (e.key === 's' && e.ctrlKey) {
                e.preventDefault();
                document.querySelector('main').focus();
            }
        });
    </script>
</body>
</html>
