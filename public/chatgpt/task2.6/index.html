<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="color-scheme" content="light dark">
<title>MedTech Solutions — AI for Radiology</title>
<style>
/* ====== Design Tokens (CSS variables) ====== */
:root{
  /* Core colors (carefully tuned for contrast; WCAG AA+ on text) */
  --bg: #f6f9fb;
  --bg-soft:#ffffff;
  --ink:#0b1b2b;
  --ink-soft:#2b3d4f;
  --muted:#66788a;
  --primary:#1b4d9b;         /* credible deep blue */
  --primary-ink:#ffffff;
  --accent:#0e8b7e;          /* clinical teal */
  --danger:#9b1b3b;          /* cautious burgundy (not used as sole signal) */
  --ok:#0f7a3e;              /* success */
  --border:#d7e0ea;
  --shadow: 0 4px 20px rgba(10,23,40,.08);

  /* Dark theme counterparts */
  --bg-dark:#0d1117;
  --bg-soft-dark:#0f1622;
  --ink-dark:#e6edf3;
  --ink-soft-dark:#c9d3df;
  --muted-dark:#9fb0c2;
  --primary-dark:#74a4ff;
  --accent-dark:#5cd6c1;
  --border-dark:#223046;
  --shadow-dark: 0 6px 24px rgba(0,0,0,.45);

  /* Shared sizing */
  --radius:16px;
  --radius-sm:10px;
  --space: clamp(12px, 1.2vw, 18px);
  --space-lg: clamp(18px, 2vw, 28px);
  --maxw: 1200px;

  /* Typography */
  --font: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji";
  --fs-100: clamp(14px, .9vw, 16px);
  --fs-200: clamp(16px, 1vw, 18px);
  --fs-300: clamp(18px, 1.2vw, 20px);
  --fs-400: clamp(22px, 1.5vw, 26px);
  --fs-500: clamp(28px, 2.2vw, 40px);
}

/* ====== Theme scaffolding ====== */
body{
  font-family: var(--font);
  background: var(--bg);
  color: var(--ink);
  margin:0;
  line-height:1.55;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}
body.theme-dark{
  background: var(--bg-dark);
  color: var(--ink-dark);
}
.container{max-width:var(--maxw); margin:auto; padding: 0 var(--space);}
.card{
  background: var(--bg-soft);
  border:1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.theme-dark .card{
  background: var(--bg-soft-dark);
  border-color: var(--border-dark);
  box-shadow: var(--shadow-dark);
}
/* High contrast mode */
body.theme-contrast{
  --bg:#000;
  --bg-soft:#000;
  --ink:#fff;
  --ink-soft:#fff;
  --muted:#ddd;
  --primary:#fff;
  --primary-ink:#000;
  --accent:#fff;
  --border:#fff;
  --shadow:none;
  background:#000; color:#fff;
}

/* ====== Header ====== */
.skip-link{position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;}
.skip-link:focus{left:8px; top:8px; width:auto; height:auto; padding:8px 12px; background:#ff0; color:#000; z-index:9999; border-radius:8px;}

.site-top{
  position:sticky; top:0; z-index:5;
  backdrop-filter: blur(8px);
  background: color-mix(in srgb, var(--bg), transparent 15%);
  border-bottom:1px solid var(--border);
}
.theme-dark .site-top{background: color-mix(in srgb, var(--bg-dark), transparent 20%); border-bottom-color:var(--border-dark);}
.nav{
  display:flex; align-items:center; justify-content:space-between;
  gap: var(--space); padding: 10px 0;
}
.brand{display:flex; align-items:center; gap:10px; text-decoration:none; color:inherit;}
.brand svg{width:30px; height:30px;}
.brand b{font-size:var(--fs-300); letter-spacing:.2px;}

.controls{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
.control{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 12px; border:1px solid var(--border);
  background:var(--bg-soft); border-radius: 12px; cursor:pointer;
  user-select:none; font-size: var(--fs-100);
}
.theme-dark .control{border-color:var(--border-dark); background:var(--bg-soft-dark);}
.control input[type="range"]{width:140px}

/* Buttons */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:10px;
  padding:12px 16px; border-radius:12px; border:1px solid var(--border);
  background: var(--primary); color: var(--primary-ink); text-decoration:none;
  font-weight:600; cursor:pointer;
}
.btn.secondary{
  background:transparent; color:inherit;
}
.btn:focus-visible{outline:3px solid color-mix(in srgb, var(--accent), transparent 40%); outline-offset:2px}

/* ====== Hero ====== */
.hero{padding: clamp(28px, 6vw, 80px) 0}
.hero .inner{display:grid; grid-template-columns: 1.1fr .9fr; gap: clamp(20px, 4vw, 50px); align-items:center}
@media (max-width: 920px){
  .hero .inner{grid-template-columns: 1fr}
}
.kicker{color: var(--accent); font-weight:700; letter-spacing:.4px; text-transform:uppercase; font-size: var(--fs-100)}
h1{font-size: var(--fs-500); margin:.2em 0 .4em 0; line-height:1.12}
.sub{font-size: var(--fs-300); color: var(--ink-soft); max-width: 60ch}
.theme-dark .sub{color: var(--ink-soft-dark)}
.hero .cta{display:flex; gap:12px; flex-wrap:wrap; margin-top: 18px}

/* Trust band */
.trustband{
  display:grid; gap:10px; grid-template-columns: repeat(3,1fr);
  margin-top: var(--space-lg);
}
.trust-item{padding:14px 16px; border-radius:12px; border:1px dashed var(--border)}
.theme-dark .trust-item{border-color:var(--border-dark)}
.trust-item b{display:block; font-size: var(--fs-200)}
.trust-item span{font-size: var(--fs-100); color: var(--muted)}

/* ====== Confidence module ====== */
.confidence-card{padding:18px}
.confidence-list{display:grid; gap:14px}
.confidence{
  border:1px solid var(--border); border-radius:12px; padding:14px; display:grid; gap:10px;
}
.theme-dark .confidence{border-color:var(--border-dark)}
.confidence .head{display:flex; align-items:center; justify-content:space-between; gap:10px}
.confidence .label{font-weight:600}
.confidence .scoretag{
  font-variant-numeric: tabular-nums; font-weight:700; padding:6px 10px; border-radius:10px;
  background: color-mix(in srgb, var(--primary), transparent 82%); /* subtle fill */
  border:1px solid var(--border);
}
.theme-dark .confidence .scoretag{border-color:var(--border-dark)}
/* Horizontal gauge with interval band + marker */
.gauge{
  position:relative; height:24px; border-radius:999px; overflow:hidden;
  background:
    linear-gradient(90deg,
      color-mix(in srgb, var(--primary), white 85%) 0%,
      color-mix(in srgb, var(--accent), white 75%) 100%);
  border:1px solid var(--border);
}
.theme-dark .gauge{border-color:var(--border-dark);
  background:
    linear-gradient(90deg,
      color-mix(in srgb, var(--primary-dark), black 70%) 0%,
      color-mix(in srgb, var(--accent-dark), black 65%) 100%);
}
/* tick marks (notches) for reading on poor displays */
.gauge::after{
  content:""; position:absolute; inset:0;
  background-image:
    repeating-linear-gradient(90deg, transparent 0 6%, rgba(0,0,0,.08) 6.6% 6.8%, transparent 6.8% 13.4%);
  mix-blend-mode: multiply; opacity:.35; pointer-events:none;
}
.theme-dark .gauge::after{background-image:
  repeating-linear-gradient(90deg, transparent 0 6%, rgba(255,255,255,.15) 6.6% 6.8%, transparent 6.8% 13.4%);
}
/* interval band (uncertainty) */
.band{
  position:absolute; top:2px; height: calc(100% - 4px); border-radius:999px;
  background: repeating-linear-gradient(
    45deg,
    color-mix(in srgb, var(--accent), white 25%), color-mix(in srgb, var(--accent), white 25%) 6px,
    color-mix(in srgb, var(--accent), white 50%) 6px, color-mix(in srgb, var(--accent), white 50%) 12px
  );
  opacity:.85; border:1px solid color-mix(in srgb, var(--accent), black 15%);
}
/* marker pin */
.marker{
  position:absolute; top:-4px; width:0; left:50%;
  border-left:6px solid transparent; border-right:6px solid transparent; border-bottom:10px solid var(--ink);
}
.theme-dark .marker{border-bottom-color: var(--ink-dark)}
/* status row */
.status{display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap}
.status .pill{
  display:inline-flex; align-items:center; gap:8px; border:1px solid var(--border); border-radius:999px; padding:6px 10px;
}
.theme-dark .status .pill{border-color:var(--border-dark)}
.badge{display:inline-block; padding:4px 8px; border-radius:999px; border:1px solid var(--border); font-size: var(--fs-100)}
.theme-dark .badge{border-color:var(--border-dark)}
.badge.high{background: #e8f7ef; color:#0f7a3e}
.badge.med{background: #fff7e6; color:#8a5b00}
.badge.low{background: #fdecef; color:#9b1b3b}
.theme-dark .badge.high{background:#10271b; color:#85e0a6}
.theme-dark .badge.med{background:#2a2412; color:#ffd27a; border-color:#4b3f18}
.theme-dark .badge.low{background:#2a1217; color:#ff9fb1; border-color:#5a1f2e}

/* ====== Info sections ====== */
.section{padding: clamp(24px, 5vw, 64px) 0}
.grid-3{display:grid; gap:16px; grid-template-columns: repeat(3,1fr)}
.grid-2{display:grid; gap:16px; grid-template-columns: repeat(2,1fr)}
@media (max-width: 920px){ .grid-3, .grid-2{grid-template-columns:1fr} }

.feature{
  padding:18px; display:grid; gap:10px;
}

.legend{
  display:grid; gap:10px; grid-template-columns: 1fr 1fr; align-items:center;
}
.legend .mini{
  display:grid; gap:6px; font-size: var(--fs-100);
}
.legend .ramp{
  block-size: 16px; border-radius:999px;
  background: linear-gradient(90deg, #d0def6, #c7efe8);
  border:1px solid var(--border);
}
.theme-dark .legend .ramp{background: linear-gradient(90deg, #1a3468, #134d43); border-color: var(--border-dark)}
/* Display check */
.display-check{
  display:grid; gap:12px;
}
.swatches{display:grid; grid-template-columns: repeat(12,1fr); gap:4px}
.swatches span{height:14px; display:block; border-radius:4px; background: linear-gradient(90deg, #000, #fff)}
.grid-pattern{
  height: 70px; background:
  linear-gradient(#0000 0 69px, color-mix(in srgb, var(--ink), transparent 85%) 69px 70px),
  linear-gradient(90deg,#0000 0 calc(100% - 1px), color-mix(in srgb, var(--ink), transparent 85%) calc(100% - 1px));
  background-size: 10px 10px;
  border:1px dashed var(--border); border-radius:8px;
}
.theme-dark .grid-pattern{border-color:var(--border-dark)}
/* Footer */
.footer{padding: 30px 0; color: var(--muted); border-top:1px solid var(--border)}
.theme-dark .footer{border-top-color:var(--border-dark)}

/* ====== Ergonomics ====== */
*:focus-visible{outline: 3px solid color-mix(in srgb, var(--accent), transparent 45%); outline-offset:3px}
.reduced-motion *{transition:none!important; animation:none!important}

/* ====== ER mode (fatigue-safe preset) ====== */
body.er-mode{
  letter-spacing:.2px;
  line-height:1.7;
}
body.er-mode .btn{padding:14px 18px}
body.er-mode .gauge{height:28px}
body.er-mode .controls .control{padding:10px 14px}

/* ====== Low-contrast preview (simulates older displays) ====== */
body.sim-low-contrast{
  filter: contrast(.9) saturate(.85) grayscale(.04);
}
</style>
</head>
<body>
<a class="skip-link" href="#main">Skip to content</a>

<header class="site-top" role="banner">
  <div class="container nav" role="navigation" aria-label="Top Navigation">
    <a class="brand" href="#" aria-label="MedTech Solutions home">
      <!-- Inline, lightweight logo (hex + cross evokes tech + care) -->
      <svg viewBox="0 0 64 64" aria-hidden="true" focusable="false">
        <path d="M32 2 58 17v30L32 62 6 47V17L32 2Z" fill="none" stroke="currentColor" stroke-width="2"/>
        <path d="M29 22h6v7h7v6h-7v7h-6v-7h-7v-6h7z" fill="currentColor"/>
      </svg>
      <b>MedTech Solutions</b>
    </a>
    <div class="controls" role="group" aria-label="Environment Controls">
      <label class="control" title="Theme">
        <span>Theme</span>
        <select id="themeSelect" aria-label="Theme">
          <option value="auto">Auto</option>
          <option value="light">Light</option>
          <option value="dark">Dark</option>
          <option value="contrast">High Contrast</option>
        </select>
      </label>
      <label class="control" title="ER Mode (fatigue-safe preset)">
        <input id="erMode" type="checkbox" aria-pressed="false" />
        <span>ER Mode</span>
      </label>
      <label class="control" title="Font size">
        <span>Aa</span>
        <input id="fontScale" type="range" min="90" max="120" step="2" value="100" aria-label="Font scale">
      </label>
      <label class="control" title="Simulate older display">
        <input id="simLC" type="checkbox" />
        <span>Low-contrast preview</span>
      </label>
      <button class="control" id="reduceMotion" aria-pressed="false" title="Toggle reduced motion">Reduced motion</button>
    </div>
  </div>
</header>

<main id="main" class="container">
  <!-- HERO -->
  <section class="hero">
    <div class="inner">
      <div>
        <div class="kicker">Assistive AI for Radiology</div>
        <h1>Catch cancer earlier.<br>Keep clinicians in control.</h1>
        <p class="sub">Our decision-support software helps radiologists identify suspicious findings with transparent confidence and case context—designed for bright ERs, dim reading rooms, and everything in between.</p>
        <div class="cta">
          <a class="btn" href="#confidence">See confidence clarity</a>
          <a class="btn secondary" href="#why">Why hospitals choose us</a>
        </div>

        <div class="trustband" role="list" aria-label="Trust signals">
          <div class="trust-item" role="listitem">
            <b>Built for clinical rigor</b>
            <span>Audit trails, explainability, and human-in-the-loop workflows.</span>
          </div>
          <div class="trust-item" role="listitem">
            <b>Security first</b>
            <span>Data isolation & role-based access controls.</span>
          </div>
          <div class="trust-item" role="listitem">
            <b>Operationally ready</b>
            <span>Fast to deploy; resilient on standard hospital hardware.</span>
          </div>
        </div>
      </div>

      <!-- Confidence demo card -->
      <div id="confidence" class="card confidence-card" aria-labelledby="confTitle">
        <h2 id="confTitle" style="margin:0 0 12px 0; font-size: var(--fs-400)">Confidence clarity (example)</h2>
        <div class="confidence-list" role="list">
          <!-- Item template instances -->
          <article class="confidence" role="listitem"
                   data-name="Pulmonary nodule likelihood (LUL)"
                   data-score="87" data-low="78" data-high="92" data-level="high">
            <div class="head">
              <div class="label">Pulmonary nodule likelihood (LUL)</div>
              <div class="scoretag" aria-label="Score">87%</div>
            </div>
            <div class="gauge" aria-hidden="true">
              <div class="band" style="left:78%; width:14%"></div>
              <div class="marker" style="left:87%"></div>
            </div>
            <div class="status">
              <span class="pill">
                <!-- icon -->
                <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 2l9 4v6c0 5-3.6 9.74-9 10-5.4-.26-9-5-9-10V6l9-4zm-1 13l6-6-1.4-1.4L11 12.2 8.4 9.6 7 11l4 4z"/></svg>
                <b>Interpretation:</b> Very high confidence
              </span>
              <span class="badge high" title="95% interval">95% interval: 78–92%</span>
              <span class="badge">Double-encoded: color + label + % + position</span>
            </div>
          </article>

          <article class="confidence" role="listitem"
                   data-name="Lesion growth probability"
                   data-score="63" data-low="54" data-high="70" data-level="med">
            <div class="head">
              <div class="label">Lesion growth probability</div>
              <div class="scoretag">63%</div>
            </div>
            <div class="gauge" aria-hidden="true">
              <div class="band" style="left:54%; width:16%"></div>
              <div class="marker" style="left:63%"></div>
            </div>
            <div class="status">
              <span class="pill">
                <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 2l9 4v6c0 5-3.6 9.74-9 10-5.4-.26-9-5-9-10V6l9-4zM11 7h2v7h-2zm0 9h2v2h-2z"/></svg>
                <b>Interpretation:</b> Moderate confidence
              </span>
              <span class="badge med">95% interval: 54–70%</span>
              <span class="badge">Consider clinical context</span>
            </div>
          </article>

          <article class="confidence" role="listitem"
                   data-name="Metastasis risk flag"
                   data-score="28" data-low="20" data-high="36" data-level="low">
            <div class="head">
              <div class="label">Metastasis risk flag</div>
              <div class="scoretag">28%</div>
            </div>
            <div class="gauge" aria-hidden="true">
              <div class="band" style="left:20%; width:16%"></div>
              <div class="marker" style="left:28%"></div>
            </div>
            <div class="status">
              <span class="pill">
                <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 2l9 4v6c0 5-3.6 9.74-9 10-5.4-.26-9-5-9-10V6l9-4zM11 15h2v2h-2zm0-8h2v6h-2z"/></svg>
                <b>Interpretation:</b> Low confidence — verify
              </span>
              <span class="badge low">95% interval: 20–36%</span>
              <span class="badge">Prompts second look</span>
            </div>
          </article>
        </div>

        <details style="margin-top:10px">
          <summary>How to read these scores</summary>
          <p style="margin:.6em 0 0 0; font-size: var(--fs-100); color: var(--muted)">
            Each estimate shows a <b>point score</b> (marker), a <b>95% uncertainty band</b> (patterned range), textual label (e.g., “Very high”), and neutral colors. This avoids red/green-only cues and helps on poor displays.
          </p>
        </details>
      </div>
    </div>
  </section>

  <!-- WHY SECTION -->
  <section id="why" class="section">
    <div class="grid-3">
      <article class="card feature">
        <h3 style="margin:0">Assist, never replace</h3>
        <p style="margin:0">Designed to augment radiologists. Workflows keep the clinician in control with reversible suggestions, clear provenance, and easy overrides.</p>
      </article>
      <article class="card feature">
        <h3 style="margin:0">Readable in any room</h3>
        <p style="margin:0">Light, dark, and high-contrast themes; ER Mode enlarges targets and spacing for end-of-shift use. Tick-marked gauges remain legible on poor monitors.</p>
      </article>
      <article class="card feature">
        <h3 style="margin:0">Built for committees</h3>
        <p style="margin:0">A modern, credible aesthetic communicates innovation without flash, while auditability and clear risk language build trust for conservative boards.</p>
      </article>
    </div>
  </section>

  <!-- LEGEND + DISPLAY CHECK -->
  <section class="section">
    <div class="grid-2">
      <article class="card feature">
        <h3 style="margin:0">Confidence legend</h3>
        <div class="legend">
          <div class="mini">
            <span><b>Very high / High</b> — act with standard review</span>
            <div class="ramp" aria-hidden="true"></div>
          </div>
          <div class="mini">
            <span><b>Moderate</b> — weigh with clinical context</span>
            <div class="ramp" style="background: repeating-linear-gradient(90deg,#e8f7ef,#e8f7ef 12px,#fff7e6 12px,#fff7e6 24px);" aria-hidden="true"></div>
          </div>
          <div class="mini">
            <span><b>Low</b> — prompts second look / corroboration</span>
            <div class="ramp" style="background: repeating-linear-gradient(90deg,#fdecef,#fdecef 12px,#fff 12px,#fff 24px);" aria-hidden="true"></div>
          </div>
          <div class="mini">
            <span>Dual coding: <em>color + label + % + position + pattern</em></span>
          </div>
        </div>
      </article>

      <article class="card feature">
        <h3 style="margin:0">Display check</h3>
        <div class="display-check" aria-describedby="dcdesc">
          <p id="dcdesc" style="margin:0">Use this quick check to adjust brightness/contrast on older monitors.</p>
          <div class="swatches" aria-hidden="true">
            <!-- 12-step ramp -->
            <span style="background:linear-gradient(90deg,#000,#111)"></span>
            <span style="background:linear-gradient(90deg,#111,#222)"></span>
            <span style="background:linear-gradient(90deg,#222,#333)"></span>
            <span style="background:linear-gradient(90deg,#333,#444)"></span>
            <span style="background:linear-gradient(90deg,#444,#555)"></span>
            <span style="background:linear-gradient(90deg,#555,#666)"></span>
            <span style="background:linear-gradient(90deg,#666,#777)"></span>
            <span style="background:linear-gradient(90deg,#777,#888)"></span>
            <span style="background:linear-gradient(90deg,#888,#999)"></span>
            <span style="background:linear-gradient(90deg,#999,#aaa)"></span>
            <span style="background:linear-gradient(90deg,#aaa,#bbb)"></span>
            <span style="background:linear-gradient(90deg,#bbb,#ccc)"></span>
          </div>
          <div class="grid-pattern" aria-hidden="true" title="1px grid: look for moiré and blur"></div>
          <small style="color:var(--muted)">Tip: You should be able to distinguish at least 10 of the 12 steps above.</small>
        </div>
      </article>
    </div>
  </section>
</main>

<footer class="footer">
  <div class="container" style="display:flex; justify-content:space-between; gap:14px; flex-wrap:wrap">
    <div>© <span id="year"></span> MedTech Solutions</div>
    <nav aria-label="Footer">
      <a href="#" style="color:inherit; text-decoration:none; margin-right:12px">Security</a>
      <a href="#" style="color:inherit; text-decoration:none; margin-right:12px">Clinical validation</a>
      <a href="#" style="color:inherit; text-decoration:none">Contact</a>
    </nav>
  </div>
</footer>

<script>
/* ====== Simple state management ====== */
(function(){
  const $ = (s, r=document) => r.querySelector(s);
  const body = document.body;
  const themeSelect = $('#themeSelect');
  const erMode = $('#erMode');
  const fontScale = $('#fontScale');
  const reduceMotion = $('#reduceMotion');
  const simLC = $('#simLC');

  // Persisted settings
  const saved = JSON.parse(localStorage.getItem('mts_prefs')||'{}');

  // Theme
  function applyTheme(mode){
    body.classList.remove('theme-dark','theme-contrast');
    if(mode==='dark') body.classList.add('theme-dark');
    else if(mode==='contrast') body.classList.add('theme-contrast');
    else if(mode==='auto'){
      // follow system
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      if(prefersDark) body.classList.add('theme-dark');
    }
    saved.theme=mode; flush();
  }

  // ER mode
  function applyErMode(on){
    body.classList.toggle('er-mode', !!on);
    erMode.setAttribute('aria-pressed', !!on);
    saved.er=!!on; flush();
  }

  // Reduced motion
  function applyReducedMotion(on){
    body.classList.toggle('reduced-motion', !!on);
    reduceMotion.setAttribute('aria-pressed', !!on);
    saved.rm=!!on; flush();
  }

  // Low-contrast preview (simulate older displays)
  function applySimLC(on){
    body.classList.toggle('sim-low-contrast', !!on);
    saved.lc=!!on; flush();
  }

  // Font scaling
  function applyScale(val){
    document.documentElement.style.fontSize = (val/100*16)+'px';
    saved.fs=val; flush();
  }

  // Init
  themeSelect.value = saved.theme || 'auto';
  applyTheme(themeSelect.value);
  applyErMode(!!saved.er);
  erMode.checked = !!saved.er;
  applyReducedMotion(!!saved.rm);
  applySimLC(!!saved.lc);
  simLC.checked = !!saved.lc;
  applyScale(saved.fs || 100);
  fontScale.value = saved.fs || 100;
  $('#year').textContent = new Date().getFullYear();

  themeSelect.addEventListener('change', e=> applyTheme(e.target.value));
  erMode.addEventListener('change', e=> applyErMode(e.target.checked));
  reduceMotion.addEventListener('click', ()=> applyReducedMotion(!body.classList.contains('reduced-motion')));
  simLC.addEventListener('change', e=> applySimLC(e.target.checked));
  fontScale.addEventListener('input', e=> applyScale(+e.target.value));

  // Re-render gauges from data-* if needed later; current demo is static CSS.
  // You can populate items dynamically by parsing data attributes; hook here if integrating.
  function flush(){ localStorage.setItem('mts_prefs', JSON.stringify(saved)); }

  // Respect OS theme changes when in Auto
  if (window.matchMedia){
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e=>{
      if ((saved.theme||'auto')==='auto') applyTheme('auto');
    });
  }
})();
</script>
</body>
</html>
